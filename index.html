<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="./assets//imgs/logo.png"
      type="image/x-icon"
    />
    <title>ToolBelt</title>
    <link rel="stylesheet" href="style.css" />
    <script defer src="main.js" type="module"></script>
  </head>
  <body>
    <div class="top-container">
      <div class="main-container"></div>
      <div class="side-container">
        <div class="side-container-item"></div>
        <div class="side-container-item" id="currency">
          <div class="container-infos">
            <div class="exchange-rate">
              <div class="column-infos">
                <h3>USD:</h3>
                <h3>EUR:</h3>
              </div>
              <div class="column-infos">
                <h3>BIT:</h3>
                <h3>ETC:</h3>
              </div>
            </div>
            <div class="toolbelt-converter-icons-container">
              <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Logo Usd</title><path d="M240 480v-36.42C160.53 439 112.25 398.06 112 336h72c1.77 26.34 23.86 46.45 56 50v-98l-26.77-7c-61-14.18-93.64-49.39-93.64-102.08C119.59 116.81 164.08 76.08 240 70V32h32v38c77.39 6.3 119 47.74 120 106h-72c-.76-24.06-15.83-43.39-48-46v92l30.82 7.28C367.61 243.46 400 277 400 332c0 64.34-43.74 105.88-128 111.32V480zm0-264v-86c-27.59 1.52-47.27 18.47-47.27 42.53 0 22.3 16.39 36.88 47.27 43.47zm32 78v92c38.15-1.54 56.38-18.92 56.38-45.77 0-24.58-18.23-41.13-56.38-46.23z"/></svg>
            </div>
          </div>
          <div class="toolbelt-converter-boxes-container">
            <div class="one-box">
              <input type="number" class="inputNumber" id="firstBox">
              <select class="unitSelector">
                <option value="real">BRL</option>
                <option value="dolalr">USD</option>
                <option value="eurp">EUR</option>
                <option value="bit">BIT</option>
                <option value="etc">ETC</option>
              </select>
            </div>
            <div class="toolbelt-converter-swap-icon">
              <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Swap Horizontal</title><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M304 48l112 112-112 112M398.87 160H96M208 464L96 352l112-112M114 352h302"/></svg>
            </div>
            <div class="one-box">
              <input type="number" class="inputNumber" id="secondBox">
              <select class="unitSelector">
                <option value="real">BRL</option>
                <option value="dolalr">USD</option>
                <option value="eurp">EUR</option>
                <option value="bit">BIT</option>
                <option value="etc">ETC</option>
              </select>
            </div>
          </div>
          <script>
            const link = "https://www3.bcb.gov.br/bc_moeda/rest/cotacao/fechamento/ultima/1/"
            function getDate(){
                let d = new Date();
                let dia = d.getDate();
                let mes = d.getMonth() +1;
                let ano = d.getFullYear();

                let dataCompleta = ano+'-'+mes+'-'+dia;
                console.log("\n\nData completa:",dataCompleta);

                return dataCompleta;
            }
            function dollarExchange(data){
              var date = getDate()
              const request = new XMLHttpRequest()
              const url = `https://api.allorigins.win/raw?url=${encodeURIComponent(`${link}220/${date}`)}`
              request.open("GET", url)
              request.send()

              request.onload = (e) => {
                  if(request.responseText){
                      var string = JSON.stringify(request.responseText)
                      string = string.replace(/\s+/g, '');
                      console.log(string)

                      var i1 = string.search('<taxaCompra')
                      string1 = string.substr(i1)
                      var i2 = string.search('<taxaVenda')
                      string2 = string.substr(i2)

                      var subString1 = string1.substr(
                      string1.indexOf(">") + 1,
                      string1.lastIndexOf("</taxaCompra>")
                      );
                      var subString2 = string2.substr(
                      string2.indexOf(">") + 1,
                      string2.lastIndexOf("</taxaVenda>")
                      );

                      var taxaCompra = subString1.substring(0,10);
                      var taxaVenda = subString2.substring(0,10);

                      console.log("\nTaxa de Compra:",taxaCompra);
                      console.log("\nTaxa de Venda:",taxaVenda);

                      var cambioDollar = (taxaVenda+taxaCompra)/2

                      return cambioDollar;
                 }
              }
            }
            var dollar = dollarExchange();

            let box1 = document.getElementById("firstBox");
            var valueBox1 = box1.options[box1.selectedIndex].value
            console.log(valueBox1)

            let box2 = document.getElementById("secondBox");
            var valueBox2 = box2.options[box2.selectedIndex].value
            console.log(valueBox2);

            box1.addEventListener("keypress", (evt)=>{
                if(evt.key == "Enter")
                    box2.value = (box1.value/0.453592).toFixed(2)
            })
            box1.addEventListener("blur", ()=>{
                box2.value = (box1.value/0.453592).toFixed(2)
            })
            box2.addEventListener("keypress", (evt)=>{
                if(evt.key == "Enter")
                    box1.value = (box2.value*0.453592).toFixed(2)
            })
            box2.addEventListener("blur", ()=>{
                box1.value = (box2.value*0.453592).toFixed(2)
            })



          </script>
        </div>
        <div class="side-container-item" id="measurement"></div>
        <div class="side-container-item"></div>
        <div class="side-container-item" id="translator"></div>
      </div>
    </div>
    <div class="bottom-container">
      <div class="logo-container">
        <h1>TOOLBELT</h1>
      </div>
      <div class="toolbelt-menu-items-container">
        <button
          id="menu-item-search"
          class="toolbelt-menu-item selected-menu-item"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="ionicon"
            viewBox="0 0 512 512"
          >
            <title>Search</title>
            <path
              d="M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z"
              fill="none"
              stroke="currentColor"
              stroke-miterlimit="10"
              stroke-width="32"
            />
            <path
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-miterlimit="10"
              stroke-width="32"
              d="M338.29 338.29L448 448"
            />
          </svg>
        </button>
        <button id="menu-item-calendar" class="toolbelt-menu-item">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="ionicon"
            viewBox="0 0 512 512"
          >
            <title>Calendar</title>
            <rect
              fill="none"
              stroke="currentColor"
              stroke-linejoin="round"
              stroke-width="32"
              x="48"
              y="80"
              width="416"
              height="384"
              rx="48"
            />
            <circle fill="currentColor" cx="296" cy="232" r="24" />
            <circle fill="currentColor" cx="376" cy="232" r="24" />
            <circle fill="currentColor" cx="296" cy="312" r="24" />
            <circle fill="currentColor" cx="376" cy="312" r="24" />
            <circle fill="currentColor" cx="136" cy="312" r="24" />
            <circle fill="currentColor" cx="216" cy="312" r="24" />
            <circle fill="currentColor" cx="136" cy="392" r="24" />
            <circle fill="currentColor" cx="216" cy="392" r="24" />
            <circle fill="currentColor" cx="296" cy="392" r="24" />
            <path
              fill="none"
              stroke="currentColor"
              stroke-linejoin="round"
              stroke-width="32"
              stroke-linecap="round"
              d="M128 48v32M384 48v32"
            />
            <path
              fill="none"
              stroke="currentColor"
              stroke-linejoin="round"
              stroke-width="32"
              d="M464 160H48"
            />
          </svg>
        </button>
        <button class="toolbelt-menu-item">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="ionicon"
            viewBox="0 0 512 512"
          >
            <title>Reader</title>
            <rect
              x="96"
              y="48"
              width="320"
              height="416"
              rx="48"
              ry="48"
              fill="none"
              stroke="currentColor"
              stroke-linejoin="round"
              stroke-width="32"
            />
            <path
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="32"
              d="M176 128h160M176 208h160M176 288h80"
            />
          </svg>
        </button>
        <button class="toolbelt-menu-item">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="ionicon"
            viewBox="0 0 512 512"
          >
            <title>Stopwatch</title>
            <path
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="32"
              d="M256 232v-80"
            />
            <path
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="48"
              d="M256 88V72M132 132l-12-12"
            />
            <circle
              cx="256"
              cy="272"
              r="32"
              fill="none"
              stroke="currentColor"
              stroke-miterlimit="10"
              stroke-width="32"
            />
            <path
              d="M256 96a176 176 0 10176 176A176 176 0 00256 96z"
              fill="none"
              stroke="currentColor"
              stroke-miterlimit="10"
              stroke-width="32"
            />
          </svg>
        </button>
        <button class="toolbelt-menu-item">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="ionicon"
            viewBox="0 0 512 512"
          >
            <title>Color Palette</title>
            <path
              d="M430.11 347.9c-6.6-6.1-16.3-7.6-24.6-9-11.5-1.9-15.9-4-22.6-10-14.3-12.7-14.3-31.1 0-43.8l30.3-26.9c46.4-41 46.4-108.2 0-149.2-34.2-30.1-80.1-45-127.8-45-55.7 0-113.9 20.3-158.8 60.1-83.5 73.8-83.5 194.7 0 268.5 41.5 36.7 97.5 55 152.9 55.4h1.7c55.4 0 110-17.9 148.8-52.4 14.4-12.7 11.99-36.6.1-47.7z"
              fill="none"
              stroke="currentColor"
              stroke-miterlimit="10"
              stroke-width="32"
            />
            <circle cx="144" cy="208" r="32" />
            <circle cx="152" cy="311" r="32" />
            <circle cx="224" cy="144" r="32" />
            <circle cx="256" cy="367" r="48" />
            <circle cx="328" cy="144" r="32" />
          </svg>
        </button>
        <button id="menu-item-paint" class="toolbelt-menu-item">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="ionicon"
            viewBox="0 0 512 512"
          >
            <title>Brush</title>
            <path
              d="M452.37 59.63h0a40.49 40.49 0 00-57.26 0L184 294.74c23.08 4.7 46.12 27.29 49.26 49.26l219.11-227.11a40.49 40.49 0 000-57.26zM138 336c-29.88 0-54 24.5-54 54.86 0 23.95-20.88 36.57-36 36.57C64.56 449.74 92.82 464 120 464c39.78 0 72-32.73 72-73.14 0-30.36-24.12-54.86-54-54.86z"
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="32"
            />
          </svg>
        </button>
        <button class="toolbelt-menu-item">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="ionicon"
            viewBox="0 0 512 512"
          >
            <title>Dice</title>
            <path
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="32"
              d="M448 341.37V170.61A32 32 0 00432.11 143l-152-88.46a47.94 47.94 0 00-48.24 0L79.89 143A32 32 0 0064 170.61v170.76A32 32 0 0079.89 369l152 88.46a48 48 0 0048.24 0l152-88.46A32 32 0 00448 341.37z"
            />
            <path
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="32"
              d="M69 153.99l187 110 187-110M256 463.99v-200"
            />
            <ellipse cx="256" cy="152" rx="24" ry="16" />
            <ellipse cx="208" cy="296" rx="16" ry="24" />
            <ellipse cx="112" cy="328" rx="16" ry="24" />
            <ellipse cx="304" cy="296" rx="16" ry="24" />
            <ellipse cx="400" cy="240" rx="16" ry="24" />
            <ellipse cx="304" cy="384" rx="16" ry="24" />
            <ellipse cx="400" cy="328" rx="16" ry="24" />
          </svg>
        </button>
      </div>
    </div>
  </body>
</html>
